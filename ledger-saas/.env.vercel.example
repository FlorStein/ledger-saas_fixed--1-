# Vercel Environment Variables Template
# Copy and update these values in Vercel Dashboard → Settings → Environment Variables

# WhatsApp verification token (cualquier string, debe coincidir en Meta Dashboard)
WHATSAPP_VERIFY_TOKEN=ledger_saas_verify_123

# Meta App Secret (obtener de Meta Developer Dashboard → App Settings → Basic)
META_APP_SECRET=your_meta_app_secret_here

# Backend URL para procesar eventos
# Ejemplo: https://backend.example.com o https://api.example.com
BACKEND_INGEST_URL=https://your-backend.com/webhooks/whatsapp/meta/cloud

# Secreto compartido entre Vercel y Backend (para Bearer token)
BACKEND_SHARED_SECRET=ledger_saas_backend_secret

# JSON string con mapeo de phone_number_id → tenant_id
# Ejemplo: {"1234567890":"tenant_demo","9876543210":"tenant_ariel"}
# Si está vacío, usa "default" como tenant_id
TENANT_ROUTING_JSON={"1234567890":"tenant_demo"}

# ==========================================
# INSTRUCCIONES
# ==========================================
#
# 1. Obtener META_APP_SECRET:
#    - Ir a https://developers.facebook.com
#    - Tu app → Settings → Basic
#    - Copiar "App Secret"
#    - Guardar en Vercel como META_APP_SECRET
#
# 2. Obtener phone_number_id:
#    - WhatsApp → API Setup
#    - Copiar "Display Phone Number ID"
#    - Usarlo en TENANT_ROUTING_JSON
#
# 3. Configurar en Vercel:
#    - Settings → Environment Variables
#    - Add new: nombre=valor
#    - Seleccionar Production/Preview/Development
#    - Redeploy para aplicar cambios
#
# 4. Configurar en Meta Dashboard:
#    - WhatsApp → Configuration
#    - Callback URL: https://tu-vercel-app.vercel.app/api/whatsapp-webhook
#    - Verify Token: ledger_saas_verify_123
#    - Click "Verify and Save"
#
